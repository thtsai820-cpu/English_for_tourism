<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>guide – Sentence Reader</title>
<style>
:root{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans", Arial;
  background:#f6f7fb; color:#111827;
}
body{ margin:0; }
.header{
  background:#fff; border-bottom:1px solid #e5e7eb;
  padding:12px 16px;
}
.title{ font-weight:900; font-size:18px; }
.badge{
  display:inline-block; margin-left:8px;
  padding:3px 8px; border-radius:999px;
  border:1px solid #e5e7eb; font-size:12px;
  color:#374151; background:#fff;
}
.main{ max-width:1100px; margin:0 auto; padding:16px; }
.grid{ display:grid; grid-template-columns: 1fr; gap:12px; }
@media (min-width: 980px){ .grid{ grid-template-columns: 360px 1fr; } }

.card{
  background:#fff; border:1px solid #e5e7eb;
  border-radius:16px; padding:14px;
}
.row{ display:flex; gap:10px; flex-wrap:wrap; align-items:flex-end; }
.group{ flex:1; min-width:160px; }
.label{ font-size:12px; color:#6b7280; margin-bottom:6px; }
select, input[type="range"], input[type="checkbox"]{
  font-size:14px;
}
select, input[type="range"]{
  width:100%;
  border:1px solid #e5e7eb; border-radius:12px;
  padding:10px 12px; outline:none; background:#fff;
}
select:focus, input[type="range"]:focus{ border-color:#111827; }

.actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
button{
  border:1px solid #e5e7eb; background:#fff;
  padding:10px 12px; border-radius:12px;
  cursor:pointer; font-weight:900;
}
button.primary{ background:#111827; color:#fff; border-color:#111827; }
button.danger{ background:#fff1f2; border-color:#fecaca; }
.small{ font-size:12px; color:#6b7280; line-height:1.5; }
.hr{ height:1px; background:#e5e7eb; border:0; margin:12px 0; }

.kpiLine{ display:flex; gap:12px; flex-wrap:wrap; align-items:center; }
.kpi{ font-weight:900; font-size:13px; }
.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

.sentences{
  display:flex; flex-direction:column; gap:8px;
}
.s{
  padding:10px 12px;
  border:1px solid #e5e7eb; border-radius:14px;
  background:#fff;
  cursor:pointer;
  line-height:1.55;
}
.s:hover{ border-color:#9ca3af; }
.s.active{ background:#111827; border-color:#111827; color:#fff; }
.s.done{ background:#ecfdf5; border-color:#16a34a; }

.topline{
  display:flex; gap:10px; flex-wrap:wrap; align-items:center;
  justify-content:space-between;
}
.pill{
  display:inline-block; padding:3px 8px; border-radius:999px;
  border:1px solid #e5e7eb; font-size:12px; color:#374151;
}
.notice{
  padding:10px 12px;
  border:1px dashed #d1d5db; border-radius:12px; background:#fff;
}
</style>
</head>
<body>

<div class="header">
  <div class="title">guide – Sentence Reader <span class="badge">PPT → 分句 JSON → 逐句朗讀</span></div>
</div>

<div class="main">
  <div class="grid">

    <!-- 左：控制面板 -->
    <div class="card">
      <div class="label">資料來源（JSON 檔）</div>
      <div class="notice small">
        請把 <span class="mono">guide_corpus_sentences.json</span> 放在同資料夾（與 index.html 同層）。<br/>
        若載入失敗，請先確認 GitHub Pages 已開啟、檔名拼字一致。
      </div>

      <hr class="hr"/>

      <div class="row">
        <div class="group">
          <div class="label">Deck（PPT 檔）</div>
          <select id="deckSel"></select>
        </div>
        <div class="group">
          <div class="label">Slide（頁碼）</div>
          <select id="slideSel"></select>
        </div>
      </div>

      <div class="row" style="margin-top:8px;">
        <div class="group">
          <div class="label">Voice（英文語音）</div>
          <select id="voiceSel"></select>
          <div class="small">Voice 取決於你的裝置；US/UK 不一定每台都有。</div>
        </div>
        <div class="group">
          <div class="label">語速 Rate：<span id="rateVal" class="mono">1.0</span></div>
          <input id="rate" type="range" min="0.6" max="1.4" step="0.1" value="1.0" />
          <div class="small">練習建議 0.8–1.0；熟悉後 1.1–1.2。</div>
        </div>
      </div>

      <div class="row" style="margin-top:8px;">
        <div class="group">
          <div class="label">播放選項</div>
          <label class="small" style="display:flex; gap:8px; align-items:center;">
            <input id="autoNextSlide" type="checkbox" />
            播完本頁自動跳下一頁
          </label>
          <label class="small" style="display:flex; gap:8px; align-items:center; margin-top:6px;">
            <input id="loopSlide" type="checkbox" />
            播完本頁重播（循環本頁）
          </label>
        </div>
      </div>

      <div class="actions">
        <button id="play" class="primary">▶ 播放</button>
        <button id="pause">⏸ 暫停</button>
        <button id="resume">⏵ 繼續</button>
        <button id="stop" class="danger">■ 停止</button>
      </div>

      <div class="small" style="margin-top:8px;">
        小技巧：點右側任一句，可從該句開始播放。
      </div>

      <hr class="hr"/>

      <div class="kpiLine">
        <div class="kpi">狀態：<span id="status" class="mono">loading</span></div>
        <div class="kpi">句子：<span id="count" class="mono">0</span></div>
        <div class="kpi">目前：<span id="idx" class="mono">-</span></div>
      </div>
    </div>

    <!-- 右：句子列表 -->
    <div class="card">
      <div class="topline">
        <div>
          <div style="font-weight:900; font-size:18px;">句子列表</div>
          <div class="small" id="meta">—</div>
        </div>
        <div class="pill" id="pill">Ready</div>
      </div>

      <hr class="hr"/>

      <div id="sentBox" class="sentences"></div>

      <div class="small" style="margin-top:10px;">
        ✅ Done（綠色）：已播放過的句子　｜　⬛
